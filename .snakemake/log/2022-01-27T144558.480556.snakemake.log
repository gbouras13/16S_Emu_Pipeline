Building DAG of jobs...
Using shell: /bin/bash
Provided cores: 16
Rules claiming more threads will be scaled down.
Job stats:
job            count    min threads    max threads
-----------  -------  -------------  -------------
all                1              1              1
emu                3             16             16
get_db             1              1              1
krona              3              1              1
krona_input        3              1              1
total             11              1             16

Select jobs to execute...

[Thu Jan 27 14:46:01 2022]
rule get_db:
    input: gitlab.com/treangenlab/emu/-/archive/v1.0.1/emu-v1.0.1.tar.gz
    output: DB, DB/species_taxid.fasta, DB/names_df.tsv, DB/nodes_df.tsv, DB/unique_taxids.tsv
    jobid: 1
    resources: tmpdir=/var/folders/2q/srp24kx525982p1wr0crt0tc0000gq/T

[Thu Jan 27 14:46:21 2022]
Finished job 1.
1 of 11 steps (9%) done
Select jobs to execute...

[Thu Jan 27 14:46:22 2022]
rule emu:
    input: fastqs/porechopped/barcode03.fastq.gz, DB/species_taxid.fasta
    output: emu_results/barcode03_rel-abundance-threshold-0.01.tsv
    jobid: 4
    wildcards: sample=barcode03
    threads: 16
    resources: tmpdir=/var/folders/2q/srp24kx525982p1wr0crt0tc0000gq/T

[Thu Jan 27 14:50:31 2022]
Finished job 4.
2 of 11 steps (18%) done
Select jobs to execute...

[Thu Jan 27 14:50:31 2022]
rule emu:
    input: fastqs/porechopped/barcode01.fastq.gz, DB/species_taxid.fasta
    output: emu_results/barcode01_rel-abundance-threshold-0.01.tsv
    jobid: 2
    wildcards: sample=barcode01
    threads: 16
    resources: tmpdir=/var/folders/2q/srp24kx525982p1wr0crt0tc0000gq/T

[Thu Jan 27 14:53:16 2022]
Finished job 2.
3 of 11 steps (27%) done
Select jobs to execute...

[Thu Jan 27 14:53:16 2022]
rule emu:
    input: fastqs/porechopped/barcode02.fastq.gz, DB/species_taxid.fasta
    output: emu_results/barcode02_rel-abundance-threshold-0.01.tsv
    jobid: 3
    wildcards: sample=barcode02
    threads: 16
    resources: tmpdir=/var/folders/2q/srp24kx525982p1wr0crt0tc0000gq/T

[Thu Jan 27 14:55:10 2022]
Finished job 3.
4 of 11 steps (36%) done
Select jobs to execute...

[Thu Jan 27 14:55:10 2022]
rule krona_input:
    input: emu_results/barcode01_rel-abundance-threshold-0.01.tsv, emu_results/barcode01_readcount.txt
    output: emu_results/barcode01_krona_input.txt
    jobid: 8
    wildcards: sample=barcode01
    resources: tmpdir=/var/folders/2q/srp24kx525982p1wr0crt0tc0000gq/T

[Thu Jan 27 14:55:10 2022]
rule krona_input:
    input: emu_results/barcode02_rel-abundance-threshold-0.01.tsv, emu_results/barcode02_readcount.txt
    output: emu_results/barcode02_krona_input.txt
    jobid: 9
    wildcards: sample=barcode02
    resources: tmpdir=/var/folders/2q/srp24kx525982p1wr0crt0tc0000gq/T

[Thu Jan 27 14:55:10 2022]
rule krona_input:
    input: emu_results/barcode03_rel-abundance-threshold-0.01.tsv, emu_results/barcode03_readcount.txt
    output: emu_results/barcode03_krona_input.txt
    jobid: 10
    wildcards: sample=barcode03
    resources: tmpdir=/var/folders/2q/srp24kx525982p1wr0crt0tc0000gq/T

[Thu Jan 27 14:55:12 2022]
Finished job 8.
5 of 11 steps (45%) done
Select jobs to execute...

[Thu Jan 27 14:55:12 2022]
rule krona:
    input: emu_results/barcode01_krona_input.txt
    output: krona/barcode01_krona.html
    jobid: 11
    wildcards: sample=barcode01
    resources: tmpdir=/var/folders/2q/srp24kx525982p1wr0crt0tc0000gq/T

[Thu Jan 27 14:55:12 2022]
Finished job 9.
6 of 11 steps (55%) done
[Thu Jan 27 14:55:12 2022]
Finished job 10.
7 of 11 steps (64%) done
Select jobs to execute...

[Thu Jan 27 14:55:12 2022]
rule krona:
    input: emu_results/barcode02_krona_input.txt
    output: krona/barcode02_krona.html
    jobid: 12
    wildcards: sample=barcode02
    resources: tmpdir=/var/folders/2q/srp24kx525982p1wr0crt0tc0000gq/T


[Thu Jan 27 14:55:12 2022]
rule krona:
    input: emu_results/barcode03_krona_input.txt
    output: krona/barcode03_krona.html
    jobid: 13
    wildcards: sample=barcode03
    resources: tmpdir=/var/folders/2q/srp24kx525982p1wr0crt0tc0000gq/T

[Thu Jan 27 14:55:12 2022]
Finished job 11.
8 of 11 steps (73%) done
[Thu Jan 27 14:55:12 2022]
Finished job 12.
9 of 11 steps (82%) done
[Thu Jan 27 14:55:12 2022]
Finished job 13.
10 of 11 steps (91%) done
Select jobs to execute...

[Thu Jan 27 14:55:12 2022]
localrule all:
    input: DB/species_taxid.fasta, DB/names_df.tsv, DB/nodes_df.tsv, DB/unique_taxids.tsv, emu_results/barcode01_rel-abundance-threshold-0.01.tsv, emu_results/barcode02_rel-abundance-threshold-0.01.tsv, emu_results/barcode03_rel-abundance-threshold-0.01.tsv, emu_results/barcode01_readcount.txt, emu_results/barcode02_readcount.txt, emu_results/barcode03_readcount.txt, emu_results/barcode01_krona_input.txt, emu_results/barcode02_krona_input.txt, emu_results/barcode03_krona_input.txt, krona/barcode01_krona.html, krona/barcode02_krona.html, krona/barcode03_krona.html
    jobid: 0
    resources: tmpdir=/var/folders/2q/srp24kx525982p1wr0crt0tc0000gq/T

[Thu Jan 27 14:55:12 2022]
Finished job 0.
11 of 11 steps (100%) done
Complete log: /Users/a1667917/Documents/Pipelines/16S_Emu_Pipeline/.snakemake/log/2022-01-27T144558.480556.snakemake.log
